"use strict";(globalThis["webpackChunkstar_wars_quasar_v2"]=globalThis["webpackChunkstar_wars_quasar_v2"]||[]).push([[983],{2833:(t,a,e)=>{e.d(a,{Z:()=>i});var n=e(9981),o=e.n(n),r=function(t,a,e,n){function o(t){return t instanceof e?t:new e((function(a){a(t)}))}return new(e||(e=Promise))((function(e,r){function i(t){try{s(n.next(t))}catch(a){r(a)}}function c(t){try{s(n["throw"](t))}catch(a){r(a)}}function s(t){t.done?e(t.value):o(t.value).then(i,c)}s((n=n.apply(t,a||[])).next())}))};class i{static getCharactersByPage(t){return r(this,void 0,void 0,(function*(){let a={characters:[],total:0};return yield o().get(`https://swapi.dev/api/people/?page=${t}`).then((t=>(console.log(t),a={characters:t.data.results,total:t.data.count}))).catch((t=>console.error(t))),a}))}static getCharacterById(t){return r(this,void 0,void 0,(function*(){const a=yield o().get(`https://swapi.dev/api/people/${t}`);return a.data}))}static getStarships(t){return r(this,void 0,void 0,(function*(){const a=[];return t.starships&&t.starships.forEach((t=>r(this,void 0,void 0,(function*(){const e=yield o().get(t);a.push(e.data)})))),a}))}static getPicture(t){return r(this,void 0,void 0,(function*(){let a=404,e=0;while(200!=a){const n=yield o().get(`https://www.googleapis.com/customsearch/v1?key=AIzaSyDKEWPZHKt0FSXvND6RNPtajUnr171dwbA&cx=ccdc96df0b94a890e&searchType=image&imgSize=xlarge&alt=json&num=1&start=1&q=${t}`);if(a=n.status,200==n.status)return n.data.items[e].link;e++}return""}))}}},1983:(t,a,e)=>{e.r(a),e.d(a,{default:()=>x});var n=e(9835),o=e(6970);const r={class:"row"},i=(0,n._)("div",{class:"col"},null,-1),c={class:"q-pa-xs col-4"},s=["src"],u=(0,n._)("div",{class:"col"},null,-1);function l(t,a,e,l,d,g){const p=(0,n.up)("q-card-section"),h=(0,n.up)("q-separator"),f=(0,n.up)("q-card"),v=(0,n.up)("q-table");return(0,n.wg)(),(0,n.iD)("div",r,[i,(0,n.Wm)(v,{grid:"",loading:t.loading,rows:t.Characters,pagination:t.pagination,"onUpdate:pagination":a[0]||(a[0]=a=>t.pagination=a),onRequest:t.onRequest,"rows-per-page-options":[10],columns:t.columns},{item:(0,n.w5)((a=>[(0,n._)("div",c,[(0,n.Wm)(f,{onClick:e=>t.goCharacter(a.row.url.split("/")[5]),dark:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"text-center text-yellow"},{default:(0,n.w5)((()=>[(0,n._)("strong",null,(0,o.zw)(a.row.name),1)])),_:2},1024),(0,n.Wm)(h),(0,n.Wm)(p,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n._)("img",{src:a.row.image,height:"100"},null,8,s)])),_:2},1024)])),_:2},1032,["onClick"])])])),_:1},8,["loading","rows","pagination","onRequest","columns"]),u])}var d=e(499),g=e(2833),p=e(1669),h=function(t,a,e,n){function o(t){return t instanceof e?t:new e((function(a){a(t)}))}return new(e||(e=Promise))((function(e,r){function i(t){try{s(n.next(t))}catch(a){r(a)}}function c(t){try{s(n["throw"](t))}catch(a){r(a)}}function s(t){t.done?e(t.value):o(t.value).then(i,c)}s((n=n.apply(t,a||[])).next())}))};const f=(0,n.aZ)({name:"CharacterTable",setup(){let t=(0,d.iH)([]),a=(0,d.iH)({page:1,rowsPerPage:10,rowsNumber:0}),e=(0,d.iH)(!0);const n=[{name:"image",label:"Image",field:"image",align:"left"},{name:"name",label:"Name",field:"name",align:"left"}];function o(n){g.Z.getCharactersByPage(n).then((n=>{t.value=n.characters,a.value.rowsNumber=n.total,e.value=!1,i()}))}function r(t){(0,p.Z)().push({path:"/character/"+t})}function i(){t.value.forEach((t=>h(this,void 0,void 0,(function*(){t.image=yield g.Z.getPicture(t.name)}))))}function c(t){const n=t.pagination.page;e.value=!0,a.value.page=n,o(n)}return o(1),{columns:n,Characters:t,pagination:a,onRequest:c,loading:e,goCharacter:r,getPictures:i}}});var v=e(1639),m=e(6430),w=e(4458),y=e(3190),_=e(926),C=e(9984),b=e.n(C);const q=(0,v.Z)(f,[["render",l]]),x=q;b()(f,"components",{QTable:m.Z,QCard:w.Z,QCardSection:y.Z,QSeparator:_.Z})}}]);